(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48402a75"],{"43bc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",[a("div",{staticClass:"search_div"},[a("a-form",{attrs:{form:e.searchForm,"label-col":{span:8},"wrapper-col":{span:16}},on:{submit:e.handleSearchSubmit}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{placeholder:"请输入名称"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"手机号码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone"],expression:"['phone']"}],attrs:{placeholder:"请输入手机号码"}})],1)],1),a("a-col",{style:{textAlign:"center"},attrs:{span:4}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" 查询 ")]),a("a-button",{style:{marginLeft:"3px"},on:{click:e.handleSearchReset}},[e._v(" 清空 ")])],1)],1)],1)],1),a("div",{staticClass:"button_div"},[1===e.actionList.add?a("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")]):e._e()],1),a("div",{staticClass:"table_div"},[a("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,pagination:e.pagination,rowKey:function(e){return e.id}},scopedSlots:e._u([{key:"operation",fn:function(t,r){return[1===e.actionList.update?a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v(" 修改 ")]):e._e(),1===e.actionList.update&&1===e.actionList.get||1!==e.actionList.get?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1===e.actionList.get?a("a",{on:{click:function(t){return e.handleRead(r)}}},[e._v(" 查看 ")]):e._e(),1===e.actionList.get||1===e.actionList.delete?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1===e.actionList.delete?a("a-popconfirm",{attrs:{title:"您确定要删除吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(t){return e.handleDelete(r)},cancel:e.handleCancelDeletion}},[a("a",{attrs:{href:"javaScript:void(0)"}},[e._v("删除")])]):e._e()]}}])})],1),a("div",{staticClass:"add_div"},[a("a-drawer",{attrs:{width:600,title:e.addDrawerTitle,visible:e.addDrawerVisible,bodyStyle:{paddingBottom:"80px"}},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form,"label-col":{span:8},"wrapper-col":{span:12}},on:{submit:e.handleSaveSubmit}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"名称不能为空"}]}],expression:"['name', {rules: [\n              { required: true, message: '名称不能为空' }\n            ]}]"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{label:"手机号码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"手机号码不能为空"}]}],expression:"['phone', {rules: [\n              { required: true, message: '手机号码不能为空' }\n            ]}]"}],attrs:{placeholder:"请输入手机号码"}})],1),a("a-form-item",{attrs:{label:"职位"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["position",{rules:[{required:!0,message:"职位不能为空"}]}],expression:"['position', {rules: [\n              { required: true, message: '职位不能为空' }\n            ]}]"}],attrs:{placeholder:"请输入职位"}})],1),a("a-form-item",{attrs:{label:"加入日期"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["joinDate",{rules:[{required:!0,message:"加入日期不能为空"}]}],expression:"['joinDate', {rules: [\n              { required: true, message: '加入日期不能为空' }\n            ]}]"}],attrs:{placeholder:"请输入加入日期"}})],1),a("a-form-item",{attrs:{label:"分成比例"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["rate",{rules:[{required:!0,message:"分成比例不能为空"}]}],expression:"['rate', {rules: [\n              { required: true, message: '分成比例不能为空' }\n            ]}]"}],attrs:{placeholder:"请输入分成比例"}})],1),a("a-form-item",{attrs:{label:"状态"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"请选择"}]}],expression:"['status', {\n              rules: [{ required: true, message: '请选择' }]\n            }]"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:1}},[e._v("启用")]),a("a-select-option",{attrs:{value:0}},[e._v("禁用")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.saveDivVisible,expression:"saveDivVisible"}],style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v(" 取消 ")]),a("a-button",{attrs:{type:"primary","html-type":"submit",disabled:e.saveDisabled},on:{click:e.handleSaveSubmit}},[e._v("保存")])],1)],1)],1),a("div",{staticClass:"check_div"},[a("a-drawer",{attrs:{width:650,title:"查看业务员信息",visible:e.readDrawerVisible,bodyStyle:{paddingBottom:"80px"}},on:{close:e.onReadDrawerClose}},[a("a-descriptions",{attrs:{size:"small",bordered:"",column:4}},[a("a-descriptions-item",{attrs:{label:"姓名",span:2}},[e._v(" "+e._s(e.readListData.name)+" ")]),a("a-descriptions-item",{attrs:{label:"手机号码",span:2}},[e._v(" "+e._s(e.readListData.phone)+" ")]),a("a-descriptions-item",{attrs:{label:"职位",span:2}},[e._v(" "+e._s(e.readListData.position)+" ")]),a("a-descriptions-item",{attrs:{label:"加入日期",span:2}},[e._v(" "+e._s(e.readListData.joinDate)+" ")]),a("a-descriptions-item",{attrs:{label:"分成比例",span:2}},[e._v(" "+e._s(e.readListData.rate)+" ")]),a("a-descriptions-item",{attrs:{label:"状态",span:2}},[e._v(" "+e._s(1===e.readListData.status?"启用":"禁用")+" ")])],1)],1)],1)])},i=[],n=(a("99af"),a("4de4"),a("4160"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("5530")),s=a("c1df"),o=a.n(s),l=a("2af9"),c=a("d83a"),d=a("88bc"),u=a.n(d),p=a("5880"),f={components:{STable:l["g"]},data:function(){var e=this;return{searchForm:this.$form.createForm(this),form:this.$form.createForm(this),addDrawerTitle:"",addDrawerVisible:!1,saveDisabled:!1,saveDivVisible:!0,readDrawerVisible:!1,readListData:[],actionList:{},pagination:{showTotal:function(e,t){return"第".concat(t[0],"-").concat(t[1],"条")+" "+"共 ".concat(e," 条记录")}},queryParam:{},columns:[{title:"姓名",dataIndex:"name",key:"name",align:"center",ellipsis:!0},{title:"手机号码",dataIndex:"phone",key:"phone",align:"center",ellipsis:!0},{title:"职位",dataIndex:"position",key:"position",align:"center",ellipsis:!0},{title:"加入日期",dataIndex:"joinDate",key:"joinDate",align:"center",ellipsis:!0},{title:"分成比例",dataIndex:"rate",key:"rate",align:"center",ellipsis:!0},{title:"操作",scopedSlots:{customRender:"operation"},key:"operation",align:"center",width:"20%"}],loadData:function(t){return Object.assign(t,e.queryParam),Object(c["a"])(t).then((function(e){return e.result}))}}},created:function(){var e=this,t=this.$route.path.split("/").pop(),a=this.roles.permissions.filter((function(e){return e.permissionId===t}));a=a[0].actionList,a.forEach((function(t){"add"===t?e.actionList.add=1:"get"===t?e.actionList.get=1:"update"===t?e.actionList.update=1:"delete"===t&&(e.actionList.delete=1)}))},computed:Object(n["a"])({},Object(p["mapState"])({roles:function(e){return e.user.roles}})),methods:{moment:o.a,handleSearchSubmit:function(e){var t=this;e.preventDefault(),this.searchForm.validateFields((function(e,a){if(!e){var r={entity:{name:a.name,phone:a.phone}};Object.assign(t.queryParam,r),t.$refs.table.refresh(!0)}}))},handleSearchReset:function(){this.searchForm.resetFields()},handleAdd:function(){this.addDrawerTitle="添加业务员",this.addDrawerVisible=!0},handleEdit:function(e){var t=this;this.addDrawerTitle="修改业务员信息",this.addDrawerVisible=!0,this.$nextTick((function(){t.form.setFieldsValue({joinDate:o()(e.joinDate,"YYYY-MM-DD")}),t.form.setFieldsValue(u()(e,"id","position","name","rate","phone","status"))}))},handleSaveSubmit:function(){var e=this;this.saveDisabled=!0,this.form.validateFields((function(t,a){if(t)e.$message.error("带*号的数据不能为空"),e.saveDisabled=!1;else{if(a.phone&&!/^1[3456789]\d{9}$/.test(a.phone))return e.$message.error("手机号码有误，请重填"),void(e.saveDisabled=!1);Object(c["c"])(a).then((function(t){1===t.code?(e.$message.success("保存成功"),e.form.resetFields(),e.$refs.table.refresh(!0)):e.$message.error(t.message),e.addDrawerVisible=!1,e.saveDisabled=!1}))}}))},handleRead:function(e){this.readListData=e,this.readDrawerVisible=!0},handleDelete:function(e){var t=this;Object(c["b"])({id:e.id}).then((function(e){1===e.code?(t.$message.success("删除成功"),t.$refs.table.refresh(!0)):t.$message.error(e.result)}))},handleCancelDeletion:function(){this.$message.info("已取消删除")},onClose:function(){this.addDrawerVisible=!1,this.form.resetFields()},onReadDrawerClose:function(){this.readDrawerVisible=!1,this.form.resetFields()}}},m=f,h=a("2877"),b=Object(h["a"])(m,r,i,!1,null,"3b6c3c04",null);t["default"]=b.exports},"88bc":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,i="[object Arguments]",n="[object Function]",s="[object GeneratorFunction]",o="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")();function u(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function p(e,t){var a=-1,r=e?e.length:0,i=Array(r);while(++a<r)i[a]=t(e[a],a,e);return i}function f(e,t){var a=-1,r=t.length,i=e.length;while(++a<r)e[i+a]=t[a];return e}var m=Object.prototype,h=m.hasOwnProperty,b=m.toString,v=d.Symbol,g=m.propertyIsEnumerable,w=v?v.isConcatSpreadable:void 0,y=Math.max;function D(e,t,a,r,i){var n=-1,s=e.length;a||(a=x),i||(i=[]);while(++n<s){var o=e[n];t>0&&a(o)?t>1?D(o,t-1,a,r,i):f(i,o):r||(i[i.length]=o)}return i}function j(e,t){return e=Object(e),_(e,t,(function(t,a){return a in e}))}function _(e,t,a){var r=-1,i=t.length,n={};while(++r<i){var s=t[r],o=e[s];a(o,s)&&(n[s]=o)}return n}function S(e,t){return t=y(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,i=y(a.length-t,0),n=Array(i);while(++r<i)n[r]=a[t+r];r=-1;var s=Array(t+1);while(++r<t)s[r]=a[r];return s[t]=n,u(e,this,s)}}function x(e){return F(e)||k(e)||!!(w&&e&&e[w])}function L(e){if("string"==typeof e||V(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function k(e){return O(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||b.call(e)==i)}var F=Array.isArray;function z(e){return null!=e&&T(e.length)&&!C(e)}function O(e){return q(e)&&z(e)}function C(e){var t=$(e)?b.call(e):"";return t==n||t==s}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function q(e){return!!e&&"object"==typeof e}function V(e){return"symbol"==typeof e||q(e)&&b.call(e)==o}var A=S((function(e,t){return null==e?{}:j(e,p(D(t,1),L))}));e.exports=A}).call(this,a("c8ba"))},d83a:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));var r=a("b775"),i={findBizStaffPage:"/biz/bizStaff/findBizStaffPage",findBizStaff:"/biz/bizStaff/get",removeBizStaff:"/biz/bizStaff/remove",saveBizStaff:"/biz/bizStaff/save"};function n(e){return Object(r["b"])({url:i.findBizStaffPage,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(r["b"])({url:i.removeBizStaff,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(r["b"])({url:i.saveBizStaff,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}}}]);