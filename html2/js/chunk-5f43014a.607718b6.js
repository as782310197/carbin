(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f43014a"],{1671:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-img"},[a("a-upload",{attrs:{action:e.baseURL+"/upload/singleFileUpload","list-type":"picture-card","file-list":e.fileList,"before-upload":e.beforeUpload,remove:e.handleRemove},on:{preview:e.imgHandlePreview,change:e.imgHandleChange}},[e.fileList.length<1?a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()]),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.imgHandleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)},i=[],s=(a("4160"),a("c975"),a("fb6a"),a("a434"),a("d3b7"),a("159b"),a("96cf"),a("1da1")),n=a("ca00");function o(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))}var c={name:"UploadImgGroup",props:{imageInfo:{type:Array,default:Array}},data:function(){return{previewVisible:!1,previewImage:"",fileList:0===this.imageInfo.length?[]:this.imageInfo}},watch:{imageInfo:function(e){this.fileList=e}},computed:{baseURL:function(){return Object(n["a"])()}},methods:{handleRemove:function(e){var t=this.fileList.indexOf(e),a=this.fileList.slice();a.splice(t,1),this.fileList=a,this.$emit("ImageFun",this.fileList)},imgHandleCancel:function(){this.previewVisible=!1},imgHandlePreview:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,o(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return a.stop()}}),a)})))()},imgHandleChange:function(e){var t=this;if(this.fileList=e.fileList,"done"===e.file.status){var a=[];e.fileList.forEach((function(e){e.url?a.push(e):"error"===e.response.status?t.$message.error("上传图片失败"):a.push(e)})),this.fileList=a,this.$emit("ImageFun",this.fileList)}else e.file.status},beforeUpload:function(e){var t=this;return new Promise((function(a,r){var i="image/jpeg"===e.type||"image/png"===e.type;if(!i)return t.$message.error("You can only upload JPG file!"),r(new Error("您只能输入图片"));var s=e.size/1024/1024<2;return s?a(!0):(t.$message.error("Image must smaller than 2MB!"),r(new Error("图片大小不能超过2MB")))}))}}},l=c,d=(a("b51b"),a("2877")),u=Object(d["a"])(l,r,i,!1,null,"2d9bc34d",null),m=u.exports;t["a"]=m},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d3b7"),a("e6cf");function r(e,t,a,r,i,s,n){try{var o=e[s](n),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(i,s){var n=e.apply(t,a);function o(e){r(n,i,s,o,c,"next",e)}function c(e){r(n,i,s,o,c,"throw",e)}o(void 0)}))}}},"1e36":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",[a("div",{staticClass:"search_div"},[a("a-form",{attrs:{form:e.searchForm,"label-col":{span:6},"wrapper-col":{span:16}},on:{submit:e.handleSearchSubmit}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"设备主姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["searchDeviceOwner"],expression:"['searchDeviceOwner']"}],attrs:{placeholder:"请输入设备主姓名"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"出租状态"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentStatus"],expression:"['rentStatus']"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:0}},[e._v("待设备主提交设备证照")]),a("a-select-option",{attrs:{value:1}},[e._v("设备信息待平台审核")]),a("a-select-option",{attrs:{value:2}},[e._v("设备信息被驳回")]),a("a-select-option",{attrs:{value:3}},[e._v("待企业验设备")]),a("a-select-option",{attrs:{value:4}},[e._v("企业验设备被驳回")]),a("a-select-option",{attrs:{value:5}},[e._v("设备主待签约")]),a("a-select-option",{attrs:{value:6}},[e._v("出租中")])],1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"设备类型"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceType"],expression:"['deviceType']"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"挖掘机械"}},[e._v("挖掘机械")]),a("a-select-option",{attrs:{value:"起重机械"}},[e._v("起重机械")]),a("a-select-option",{attrs:{value:"装载机械"}},[e._v("装载机械")]),a("a-select-option",{attrs:{value:"隧道机械"}},[e._v("隧道机械")]),a("a-select-option",{attrs:{value:"打桩机械"}},[e._v("打桩机械")]),a("a-select-option",{attrs:{value:"自卸车"}},[e._v("自卸车")]),a("a-select-option",{attrs:{value:"叉车"}},[e._v("叉车")]),a("a-select-option",{attrs:{value:"运输车"}},[e._v("运输车")]),a("a-select-option",{attrs:{value:"混泥土机械"}},[e._v("混泥土机械")]),a("a-select-option",{attrs:{value:"路面机械"}},[e._v("路面机械")])],1)],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"开始时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["startTime"],expression:"['startTime']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择开始时间"},on:{change:e.startTimeChange}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"结束时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endTime"],expression:"['endTime']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择结束时间"},on:{change:e.endTimeChange}})],1)],1),a("a-col",{style:{textAlign:"center"},attrs:{span:4}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" 查询 ")]),a("a-button",{style:{marginLeft:"2px"},on:{click:e.handleSearchReset}},[e._v(" 清空 ")])],1)],1)],1)],1),a("div",{staticClass:"button_div"},[1===e.actionList.add?a("a-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")]):e._e(),e._v(" "),1===e.actionList.add?a("a-button",{attrs:{type:"primary"},on:{click:e.handleImport}},[e._v("批量倒入")]):e._e()],1),a("div",{staticClass:"table_div"},[a("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,rowKey:function(e){return e.id},pagination:e.pagination},scopedSlots:e._u([{key:"totalDuration",fn:function(t,r){return a("span",{},[e._v(" "+e._s(r.startDate+"-"+r.endDate)+" ")])}},{key:"operation",fn:function(t,r){return[1===e.actionList.update?a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v(" 修改 ")]):e._e(),1===e.actionList.update&&1===e.actionList.get||1!==e.actionList.get?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1===e.actionList.get?a("a",{on:{click:function(t){return e.handleRead(r)}}},[e._v(" 查看 ")]):e._e(),(1===e.actionList.update&&1===e.actionList.get||1!==e.actionList.get)&&6===r.status?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1===e.actionList.get&&6===r.status?a("a",{on:{click:function(t){return e.handleRecord(r)}}},[e._v("设备巡查")]):e._e(),1===e.actionList.get||1===e.actionList.delete?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1===e.actionList.delete?a("a-popconfirm",{attrs:{title:"您确定要删除吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(t){return e.handleDelete(r)},cancel:e.handleCancelDeletion}},[a("a",{attrs:{href:"javaScript:void(0)"}},[e._v("终止")])]):e._e(),1===r.status||3===r.status?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1===r.status?a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link"},[e._v(" 审核 "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",[a("a",{on:{click:function(t){return e.handlePlatformApproved(r.id)}}},[e._v("平台审核通过")])]),a("a-menu-item",[a("a",{on:{click:function(t){return e.handlePlatformUnApproved(r.id)}}},[e._v("平台审核不通过")])])],1)],1):e._e(),3===r.status?a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link"},[e._v(" 审核 "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",[a("a",{on:{click:function(t){return e.handleEnterpriseApproved(r.id)}}},[e._v("企业审核通过")])]),a("a-menu-item",[a("a",{on:{click:function(t){return e.handleEnterpriseUnApproved(r.id)}}},[e._v("企业审核不通过")])])],1)],1):e._e()]}}])})],1),a("div",{staticClass:"add_div"},[a("a-drawer",{attrs:{width:1e3,title:e.addDrawerTitle,visible:e.addDrawerVisible,bodyStyle:{paddingBottom:"80px"}},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form,"label-col":{span:8},"wrapper-col":{span:16}},on:{submit:e.handleSaveSubmit}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:"hidden"}})],1),a("h3",[e._v("基本信息")]),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"真实姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceOwner",{rules:[{required:!0,message:"真实姓名不能为空"}]}],expression:"['deviceOwner', {rules: [\n                  { required: true, message: '真实姓名不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入真实姓名"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"联系电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"联系电话不能为空"}]}],expression:"['phone', {rules: [\n                  { required: true, message: '联系电话不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入联系电话"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"项目名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["projectName",{rules:[{required:!0,message:"项目名称不能为空"}]}],expression:"['projectName', {rules: [\n                  { required: true, message: '项目名称不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入项目名称"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"工程所在地"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["location",{rules:[{required:!0,message:"工程所在地不能为空"}]}],expression:"['location', {rules: [\n                  { required: true, message: '工程所在地不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入工程所在地"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"关联合同"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contract",{rules:[{required:!0,message:"关联合同不能为空"}]}],expression:"['contract', {rules: [\n                  { required: true, message: '关联合同不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入关联合同"}})],1)],1),a("a-col",{staticClass:"chiose_contract_btn",attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleChioseContract}},[e._v("+ 选择合同")])],1),a("div",{staticClass:"chiose_contract_box"},[a("a-modal",{attrs:{visible:e.chioseContractVisible,footer:null,title:"选择合同",width:"50%"},on:{cancel:e.closeChioseContractModal}},[a("s-table",{ref:"contractTable",attrs:{columns:e.chioseContractColumns,data:e.chioseContractData,pagination:e.chioseContractPagination,rowKey:function(e){return e.id}},scopedSlots:e._u([{key:"operation",fn:function(t,r){return[a("a",{on:{click:function(t){return e.handleChiose(r)}}},[e._v(" 选择 ")])]}}])})],1)],1)],1),a("a-divider"),a("h3",[e._v("租用信息")]),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"设备日单价"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["rent",{rules:[{required:!0,message:"设备日单价不能为空"}]}],expression:"['rent', {rules: [\n                  { required: true, message: '设备日单价不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入设备日单价"}})],1)],1),a("a-col",{staticStyle:{"margin-left":"20px"},attrs:{span:6}},[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["unit",{initialValue:"台班",rules:[{required:!0,message:"请选择"}]}],expression:"['unit', {initialValue: '台班', rules: [\n                  { required: true, message: '请选择' }\n                ]}]"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"台班"}},[e._v("台班")]),a("a-select-option",{attrs:{value:"土石方"}},[e._v("土石方")]),a("a-select-option",{attrs:{value:"立方米"}},[e._v("立方米")]),a("a-select-option",{attrs:{value:"米"}},[e._v("米")]),a("a-select-option",{attrs:{value:"月"}},[e._v("月")]),a("a-select-option",{attrs:{value:"车"}},[e._v("车")]),a("a-select-option",{attrs:{value:"平方米"}},[e._v("平方米")]),a("a-select-option",{attrs:{value:"个"}},[e._v("个")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"结算方式"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["payType",{initialValue:"日结",rules:[{required:!0,message:"请选择"}]}],expression:"['payType', {initialValue: '日结' , rules: [\n                  { required: true, message: '请选择' }\n                ]}]"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"日结"}},[e._v("日结")]),a("a-select-option",{attrs:{value:"周结"}},[e._v("周结")]),a("a-select-option",{attrs:{value:"月结"}},[e._v("月结")]),a("a-select-option",{attrs:{value:"完工结"}},[e._v("完工结")]),a("a-select-option",{attrs:{value:"其他"}},[e._v("其他")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"租赁周期"}},[a("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["totalDuration",{rules:[{required:!0,message:"租赁周期不能为空"}]}],expression:"['totalDuration', {rules: [\n                  { required: true, message: '租赁周期不能为空' }\n                ]}]"}],attrs:{ranges:{Today:[e.moment(),e.moment()],"This Month":[e.moment(),e.moment().endOf("month")]},"show-time":"",format:"YYYY-MM-DD"}})],1),a("a-form-item",{attrs:{label:"长期项目"}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["isLongTerm",{rules:[{required:!1,message:""}]}],expression:"['isLongTerm', {rules: [\n                  { required: false, message: '' }\n                ]}]"}],attrs:{"checked-children":"是","un-checked-children":"否"}})],1)],1)],1)],1),a("a-divider"),a("div",{class:e.bankInfoFrame?"info":"bankInfo",staticStyle:{display:"flex","align-items":"center"}},[a("h3",{staticStyle:{"margin-right":"10px"}},[e._v("银行信息")]),a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关",checked:e.bankInfoFrame},on:{change:e.selectedBackinfo}})],1),a("a-form",{directives:[{name:"show",rawName:"v-show",value:e.bankInfoFrame,expression:"bankInfoFrame"}],attrs:{form:e.bankInfo,"label-col":{span:8},"wrapper-col":{span:16}},on:{submit:e.handleSaveSubmit}},[a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["requirementId"],expression:"['requirementId']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["type"],expression:"['type']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createTime"],expression:"['createTime']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["status"],expression:"['status']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["status"],expression:"['status']"}],attrs:{hidden:"hidden"}})],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"银行账号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"银行账号不能为空"}]}],expression:"['account', {rules: [\n                  { required: true, message: '银行账号不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入真实银行账号"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"开户银行"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bank",{rules:[{required:!0,message:"开户银行不能为空"}]}],expression:"['bank', {rules: [\n                  { required: true, message: '开户银行不能为空' }\n                ]}]"}],attrs:{placeholder:"点击获取银行信息获取"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"银行卡所属省份"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["province",{rules:[{required:!0,message:"银行卡所属省份不能为空"}]}],expression:"['province', {rules: [\n                  { required: true, message: '银行卡所属省份不能为空' }\n                ]}]"}],attrs:{placeholder:"点击获取银行信息获取"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"银行卡所属城市"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0,message:"银行卡所属城市不能为空"}]}],expression:"['city', {rules: [\n                  { required: true, message: '银行卡所属城市不能为空' }\n                ]}]"}],attrs:{placeholder:"点击获取银行信息获取"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"银行卡所属支行"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["accountHolder",{rules:[{required:!0,message:"银行卡所属支行不能为空"}]}],expression:"['accountHolder', {rules: [\n                  { required: true, message: '银行卡所属支行不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入银行开户行所属支行"}})],1)],1)],1)],1),a("a-divider"),a("div",{class:e.carInfoFrame?"info":"carInfo",staticStyle:{display:"flex","align-items":"center"}},[a("h3",{staticStyle:{"margin-right":"10px"}},[e._v("设备信息")]),a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关",checked:e.carInfoFrame},on:{change:e.selectedCarinfo}})],1),a("a-form",{directives:[{name:"show",rawName:"v-show",value:e.carInfoFrame,expression:"carInfoFrame"}],attrs:{form:e.carInfo,"label-col":{span:8},"wrapper-col":{span:16}},on:{submit:e.handleSaveSubmit}},[a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Id"],expression:"['Id']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createTime"],expression:"['createTime']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["requirementId"],expression:"['requirementId']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:"hidden"}})],1),a("a-form-item",{staticClass:"hidden"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["status"],expression:"['status']"}],attrs:{hidden:"hidden"}})],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"设备主姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceOwner",{rules:[{required:!0,message:"设备主姓名不能为空"}]}],expression:"['deviceOwner', {rules: [\n                  { required: true, message: '设备主姓名不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入设备主姓名"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"设备类型"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["deviceType",{rules:[{required:!0,message:"设备类型不能为空"}]}],expression:"['deviceType', {rules: [\n                  { required: true, message: '设备类型不能为空' }\n                ]}]"}],attrs:{placeholder:"请选择设备类型"}},[a("a-select-option",{attrs:{value:"挖掘机械"}},[e._v("挖掘机械")]),a("a-select-option",{attrs:{value:"起重机械"}},[e._v("起重机械")]),a("a-select-option",{attrs:{value:"装载机械"}},[e._v("装载机械")]),a("a-select-option",{attrs:{value:"隧道机械"}},[e._v("隧道机械")]),a("a-select-option",{attrs:{value:"打桩机械"}},[e._v("打桩机械")]),a("a-select-option",{attrs:{value:"自卸车"}},[e._v("自卸车")]),a("a-select-option",{attrs:{value:"叉车"}},[e._v("叉车")]),a("a-select-option",{attrs:{value:"运输车"}},[e._v("运输车")]),a("a-select-option",{attrs:{value:"混凝土机械"}},[e._v("混凝土机械")]),a("a-select-option",{attrs:{value:"路面机械"}},[e._v("路面机械")])],1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"设备型号"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["model",{rules:[{required:!0,message:"设备型号不能为空"}]}],expression:"['model', {rules: [\n                  { required: true, message: '设备型号不能为空' }\n                ]}]"}],attrs:{placeholder:"请选择设备型号"}},[a("a-select-option",{attrs:{value:"正铲挖掘机"}},[e._v("正铲挖掘机")]),a("a-select-option",{attrs:{value:"轮式挖掘机"}},[e._v("轮式挖掘机")]),a("a-select-option",{attrs:{value:"船式挖掘机"}},[e._v("船式挖掘机")]),a("a-select-option",{attrs:{value:"反铲挖掘机"}},[e._v("反铲挖掘机")]),a("a-select-option",{attrs:{value:"履带挖掘机"}},[e._v("履带挖掘机")])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"机械品牌"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["brand",{rules:[{required:!0,message:"机械品牌不能为空"}]}],expression:"['brand', {rules: [\n                  { required: true, message: '机械品牌不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入机械所属品牌"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"机械型号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mechanical",{rules:[{required:!0,message:"机械型号不能为空"}]}],expression:"['mechanical', {rules: [\n                  { required: true, message: '机械型号不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入机械型号"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"设备初始位置"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["locate",{rules:[{required:!1,message:""}]}],expression:"['locate', {rules: [\n                  { required: false, message: '' }\n                ]}]"}],attrs:{disabled:"",placeholder:"请输入设备地理位置"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"出厂日期"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["productionDate ",{rules:[{required:!1,message:""}]}],expression:"['productionDate ', {rules: [\n                  { required: false, message: '' }\n                ]}]"}],staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择出厂日期",format:"YYYY-MM-DD"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"其他说明","label-col":{span:4},"wrapper-col":{span:16}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["instruction",{rules:[{required:!1,message:"请输入"}]}],expression:"['instruction', {rules: [\n                  { required: false, message: '请输入' }\n                ]}]"}],attrs:{placeholder:"请输入",autoSize:{minRows:3}}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},e._l(e.picList,(function(t,r){return a("a-form-item",{key:r,attrs:{label:t.name}},[a("upload-img-group",{ref:t.typeName,refInFor:!0,attrs:{"v-decorator":[t.typeName],imageInfo:t.fileLists},on:{ImageFun:e.getImageList}})],1)})),1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.saveDivVisible,expression:"saveDivVisible"}],style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v(" 取消 ")]),a("a-button",{attrs:{type:"primary","html-type":"submit",disabled:e.saveDisabled},on:{click:e.handleSaveSubmit}},[e._v("保存")])],1)],1)],1),a("div",{staticClass:"check_div"},[a("a-drawer",{attrs:{width:800,title:"查看设备需求",visible:e.readDrawerVisible,bodyStyle:{paddingBottom:"80px"}},on:{close:e.onReadDrawerClose}},[a("a-descriptions",{attrs:{title:"基本信息",size:"small",bordered:"",column:4}},[a("a-descriptions-item",{attrs:{label:"真实姓名",span:2}},[e._v(" "+e._s(e.readListData.requirement.deviceOwner)+" ")]),a("a-descriptions-item",{attrs:{label:"联系电话",span:2}},[e._v(" "+e._s(e.readListData.requirement.phone)+" ")]),a("a-descriptions-item",{attrs:{label:"项目名称",span:4}},[e._v(" "+e._s(e.readListData.requirement.projectName)+" ")]),a("a-descriptions-item",{attrs:{label:"工程所在地",span:4}},[e._v(" "+e._s(e.readListData.requirement.location)+" ")]),a("a-descriptions-item",{attrs:{label:"关联合同",span:4}},[e._v(" "+e._s(e.readListData.requirement.contract)+" ")]),a("a-descriptions-item",{attrs:{label:"流水号",span:4}},[e._v(" "+e._s(e.readListData.requirement.id)+" "),a("a-icon",{attrs:{type:"copy"},on:{click:function(t){return e.copyId(e.readListData.requirement.id)}}})],1)],1),a("a-divider"),a("a-descriptions",{attrs:{title:"租用信息",size:"small",bordered:"",column:4}},[a("a-descriptions-item",{attrs:{label:"设备日单价",span:2}},[e._v(" "+e._s(e.readListData.requirement.rent)+"（"+e._s(e.readListData.requirement.unit)+"） ")]),a("a-descriptions-item",{attrs:{label:"结算方式",span:2}},[e._v(" "+e._s(e.readListData.requirement.payType)+" ")]),a("a-descriptions-item",{attrs:{label:"租赁周期",span:4}},[e._v(" "+e._s(e.readListData.requirement.startDate+"-"+e.readListData.requirement.endDate)+" ")])],1),a("a-divider"),e.readListData.account?a("a-descriptions",{staticStyle:{"margin-top":"20px"},attrs:{title:"银行信息",size:"small",bordered:"",column:4}},[a("a-descriptions-item",{attrs:{label:"银行账号",span:2}},[e._v(" "+e._s(e.readListData.account.account)+" ")]),a("a-descriptions-item",{attrs:{label:"开户银行",span:2}},[e._v(" "+e._s(e.readListData.account.bank)+" ")]),a("a-descriptions-item",{attrs:{label:"银行卡所属省份",span:2}},[e._v(" "+e._s(e.readListData.account.province)+" ")]),a("a-descriptions-item",{attrs:{label:"银行卡所属城市",span:2}},[e._v(" "+e._s(e.readListData.account.city)+" ")]),a("a-descriptions-item",{attrs:{label:"银行卡所属支行",span:2}},[e._v(" "+e._s(e.readListData.account.accountHolder)+" ")])],1):e._e(),a("a-divider"),e.readListData.deviceInfo?a("a-descriptions",{staticStyle:{"margin-top":"20px"},attrs:{title:"设备信息",size:"small",bordered:"",column:4}},[a("a-descriptions-item",{attrs:{label:"设备主姓名",span:2}},[e._v(" "+e._s(e.readListData.deviceInfo.deviceOwner)+" ")]),a("a-descriptions-item",{attrs:{label:"设备类型",span:2}},[e._v(" "+e._s(e.readListData.deviceInfo.deviceType)+" ")]),a("a-descriptions-item",{attrs:{label:"设备型号",span:2}},[e._v(" "+e._s(e.readListData.deviceInfo.model)+" ")]),a("a-descriptions-item",{attrs:{label:"机械品牌",span:2}},[e._v(" "+e._s(e.readListData.deviceInfo.brand)+" ")]),a("a-descriptions-item",{attrs:{label:"机械型号",span:2}},[e._v(" "+e._s(e.readListData.deviceInfo.mechanical)+" ")]),a("a-descriptions-item",{attrs:{label:"出厂日期",span:2}},[e._v(" "+e._s(e.readListData.deviceInfo.productionDate)+" ")]),a("a-descriptions-item",{attrs:{label:"设备初始位置",span:4}},[e._v(" "+e._s(e.readListData.deviceInfo.locate)+" ")]),a("a-descriptions-item",{attrs:{label:"其他说明",span:4}},[e._v(" "+e._s(e.readListData.deviceInfo.instruction)+" ")]),a("a-descriptions-item",{attrs:{label:"机械整机照片",span:2}},[e.readListData.deviceInfo.devicePhoto1?a("viewer",{staticClass:"imgBox",attrs:{images:[e.readListData.deviceInfo.devicePhoto1]}},[a("img",{attrs:{src:e.readListData.deviceInfo.devicePhoto1}})]):e._e()],1),a("a-descriptions-item",{attrs:{label:"机械产品铭牌",span:2}},[e.readListData.deviceInfo.nameplate?a("viewer",{staticClass:"imgBox",attrs:{images:[e.readListData.deviceInfo.nameplate]}},[a("img",{attrs:{src:e.readListData.deviceInfo.nameplate}})]):e._e()],1),a("a-descriptions-item",{attrs:{label:"机械合格证照片",span:2}},[e.readListData.deviceInfo.certificate?a("viewer",{staticClass:"imgBox",attrs:{images:[e.readListData.deviceInfo.certificate]}},[a("img",{attrs:{src:e.readListData.deviceInfo.certificate}})]):e._e()],1),a("a-descriptions-item",{attrs:{label:"机械正面照",span:2}},[e.readListData.deviceInfo.devicePhoto2?a("viewer",{staticClass:"imgBox",attrs:{images:[e.readListData.deviceInfo.devicePhoto2]}},[a("img",{attrs:{src:e.readListData.deviceInfo.devicePhoto2}})]):e._e()],1),a("a-descriptions-item",{attrs:{label:"机械背面照",span:2}},[e.readListData.deviceInfo.devicePhoto3?a("viewer",{staticClass:"imgBox",attrs:{images:[e.readListData.deviceInfo.devicePhoto3]}},[a("img",{attrs:{src:e.readListData.deviceInfo.devicePhoto3}})]):e._e()],1),a("a-descriptions-item",{attrs:{label:"机械侧面照",span:2}},[e.readListData.deviceInfo.devicePhoto4?a("viewer",{staticClass:"imgBox",attrs:{images:[e.readListData.deviceInfo.devicePhoto4]}},[a("img",{attrs:{src:e.readListData.deviceInfo.devicePhoto4}})]):e._e()],1)],1):e._e()],1)],1),a("div",{staticClass:"check_div"},[a("a-drawer",{attrs:{width:"80%",title:"设备巡查",visible:e.recordDrawerVisible,bodyStyle:{paddingBottom:"80px"}},on:{close:e.onRecordDrawerClose}},[a("a-descriptions",{attrs:{title:"设备信息"}},[a("a-descriptions-item",{attrs:{label:"设备主姓名"}},[e._v(" "+e._s(e.recordDeviceInfo.deviceOwner)+" ")]),a("a-descriptions-item",{attrs:{label:"设备类型"}},[e._v(" "+e._s(e.recordDeviceInfo.deviceType)+" ")]),a("a-descriptions-item",{attrs:{label:"设备型号"}},[e._v(" "+e._s(e.recordDeviceInfo.model)+" ")]),a("a-descriptions-item",{attrs:{label:"机械品牌"}},[e._v(" "+e._s(e.recordDeviceInfo.brand)+" ")]),a("a-descriptions-item",{attrs:{label:"机械型号"}},[e._v(" "+e._s(e.recordDeviceInfo.mechanical)+" ")]),a("a-descriptions-item",{attrs:{label:"机械初始位置"}},[e._v(" "+e._s(e.recordDeviceInfo.locate)+" ")]),a("a-descriptions-item",{attrs:{label:"出厂日期"}},[e._v(" "+e._s(e.recordDeviceInfo.productionDate)+" ")]),a("a-descriptions-item",{attrs:{label:"其他说明"}},[e._v(" "+e._s(e.recordDeviceInfo.instruction)+" ")]),a("a-descriptions-item"),a("a-descriptions-item",{attrs:{label:"机械扫描件 预览图（点击查看大图）"}},[a("viewer",{staticClass:"imgBox",attrs:{images:[e.recordDeviceInfo.nameplate,e.recordDeviceInfo.certificate]}},[a("img",{staticClass:"img",attrs:{src:e.recordDeviceInfo.nameplate}}),a("img",{staticClass:"img",attrs:{src:e.recordDeviceInfo.certificate}})])],1)],1),a("a-divider"),a("a-descriptions",{attrs:{title:"设备整机信息"}},[a("a-descriptions-item",{attrs:{label:"机械扫描件"}},[a("viewer",{staticClass:"imgBox",attrs:{images:[e.recordDeviceInfo.devicePhoto1,e.recordDeviceInfo.devicePhoto2,e.recordDeviceInfo.devicePhoto3,e.recordDeviceInfo.devicePhoto4]}},[a("img",{staticClass:"img",attrs:{src:e.recordDeviceInfo.devicePhoto1}}),a("img",{staticClass:"img",attrs:{src:e.recordDeviceInfo.devicePhoto2}}),a("img",{staticClass:"img",attrs:{src:e.recordDeviceInfo.devicePhoto3}}),a("img",{staticClass:"img",attrs:{src:e.recordDeviceInfo.devicePhoto4}})])],1)],1),a("a-divider"),a("h3",[a("strong",[e._v("巡查记录")])]),a("a-table",{attrs:{columns:e.recordColumns,"data-source":e.recordData,pagination:!1},scopedSlots:e._u([{key:"photo1",fn:function(e,t){return a("viewer",{staticClass:"imgBox",attrs:{images:[t.photo1]}},[a("img",{attrs:{src:t.photo1}})])}},{key:"photo2",fn:function(e,t){return a("viewer",{staticClass:"imgBox",attrs:{images:[t.photo2]}},[a("img",{attrs:{src:t.photo2}})])}},{key:"photo3",fn:function(e,t){return a("viewer",{staticClass:"imgBox",attrs:{images:[t.photo3]}},[a("img",{attrs:{src:t.photo3}})])}},{key:"photo4",fn:function(e,t){return a("viewer",{staticClass:"imgBox",attrs:{images:[t.photo4]}},[a("img",{attrs:{src:t.photo4}})])}}])})],1)],1),a("div",{staticClass:"add_div"},[a("a-drawer",{attrs:{width:800,title:"批量倒入设备",visible:e.importDrawerVisible,bodyStyle:{paddingBottom:"80px",width:"600px",margin:"0 auto"}},on:{close:e.onClose2}},[a("div",[e._v(" 操作说明： "),a("br"),e._v(" 1、点击下面的模板进行模板文件下载。 "),a("br"),e._v(" 2、打开所下载的模板excel文件,保持文件的格式不变,往文件添加需求。 "),a("br"),e._v(" 3、将添加好的excel文件点击下面上传excel按钮进行文件上传。 "),a("br")]),a("div",{staticStyle:{"margin-top":"50px"}},[a("a-form",{attrs:{form:e.form,"label-col":{span:8},"wrapper-col":{span:16}},on:{submit:e.handleSaveSubmit}},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"关联合同"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contract",{rules:[{required:!0,message:"关联合同不能为空"}]}],expression:"['contract', {rules: [\n                  { required: true, message: '关联合同不能为空' }\n                ]}]"}],attrs:{placeholder:"请输入关联合同"}})],1)],1),a("a-col",{staticClass:"chiose_contract_btn",attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleChioseContract}},[e._v("+ 选择合同")])],1),a("div",{staticClass:"chiose_contract_box"},[a("a-modal",{attrs:{visible:e.chioseContractVisible,footer:null,title:"选择合同",width:"50%"},on:{cancel:e.closeChioseContractModal}},[a("s-table",{ref:"table",attrs:{columns:e.chioseContractColumns,data:e.chioseContractData,pagination:e.chioseContractPagination,rowKey:function(e){return e.key}},scopedSlots:e._u([{key:"operation",fn:function(t,r){return[a("a",{on:{click:function(t){return e.handleChiose(r)}}},[e._v(" 选择 ")])]}}])})],1)],1)],1),a("a-row",[a("a-form-item",{attrs:{label:"导入文件"}},[a("a-upload",{attrs:{name:"file",multiple:!0,headers:e.headers,fileList:e.downloadFiles,customRequest:e.downloadFilesCustomRequest}},[a("a-button",{attrs:{type:"primary",size:"small"}},[a("a-icon",{attrs:{type:"upload"}}),e._v(" 上传excel ")],1)],1)],1)],1)],1)],1),a("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:e.onClose2}},[e._v(" 取消 ")]),a("a-button",{attrs:{type:"primary","html-type":"submit",disabled:e.saveDisabled},on:{click:e.handleSaveSubmit2}},[e._v("保存")])],1)])],1)])},i=[],s=(a("99af"),a("4de4"),a("4160"),a("b0c0"),a("d3b7"),a("ac1f"),a("1276"),a("159b"),a("5530")),n=a("88bc"),o=a.n(n),c=a("c1df"),l=a.n(c),d=a("1671"),u=a("2af9"),m=a("b775"),p={findBizEnterpriseDeviceRequirementPage:"/biz/bizEnterpriseDeviceRequirement/findBizEnterpriseDeviceRequirementPage",getBizEnterpriseDeviceRequirement:"/biz/bizEnterpriseDeviceRequirement/get",getDeviceRecord:"/biz/bizEnterpriseDeviceRequirement/getDeviceRecord",removeBizEnterpriseDeviceRequirement:"/biz/bizEnterpriseDeviceRequirement/remove",saveBizEnterpriseDeviceRequirement:"/biz/bizEnterpriseDeviceRequirement/save",platformAuditPass:"/biz/bizEnterpriseDeviceRequirement/platformAuditPass",platformAuditReject:"/biz/bizEnterpriseDeviceRequirement/platformAuditReject",enterpriseAuditPass:"/biz/bizEnterpriseDeviceRequirement/enterpriseAuditPass",enterpriseAuditReject:"/biz/bizEnterpriseDeviceRequirement/enterpriseAuditReject"};function v(e){return Object(m["b"])({url:p.platformAuditPass,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(m["b"])({url:p.platformAuditReject,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(m["b"])({url:p.enterpriseAuditPass,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(m["b"])({url:p.enterpriseAuditReject,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(m["b"])({url:p.findBizEnterpriseDeviceRequirementPage,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(m["b"])({url:p.getBizEnterpriseDeviceRequirement,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(m["b"])({url:p.getDeviceRecord,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(e){return Object(m["b"])({url:p.removeBizEnterpriseDeviceRequirement,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function D(e){return Object(m["b"])({url:p.saveBizEnterpriseDeviceRequirement,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}var I=a("6e0f"),C=a("ca00"),x=a("5880"),L={components:{STable:u["g"],UploadImgGroup:d["a"]},data:function(){var e=this;return{fileList:[],downloadFiles:[],importDrawerVisible:!1,searchForm:this.$form.createForm(this),form:this.$form.createForm(this),bankInfo:this.$form.createForm(this),carInfo:this.$form.createForm(this),addDrawerTitle:"",addDrawerVisible:!1,saveDisabled:!1,saveDivVisible:!0,readDrawerVisible:!1,recordDrawerVisible:!1,chioseContractVisible:!1,contractId:"",readListData:{requirement:{},deviceInfo:{},account:{}},predictRent:"100",param:{},actionList:{},pagination:{showTotal:function(e,t){return"第".concat(t[0],"-").concat(t[1],"条")+" "+"共 ".concat(e," 条记录")}},headers:{authorization:"authorization-text"},startDate:"",endDate:"",priceRange:[{id:"0",price:"0-10万",rent:"100"},{id:"1",price:"12-20万",rent:"150"},{id:"2",price:"20-40万",rent:"300"},{id:"3",price:"40-60万",rent:"450"},{id:"4",price:"60-80万",rent:"600"},{id:"5",price:"80-100万",rent:"750"},{id:"6",price:"100-120万",rent:"900"},{id:"7",price:"120万以上",rent:"1200"}],bankInfoFrame:!1,carInfoFrame:!1,picList:[{name:"机械整机照片",typeName:"devicePhoto1",fileLists:[]},{name:"机械产品铭牌",typeName:"nameplate",fileLists:[]},{name:"机械合格证照片",typeName:"certificate",fileLists:[]},{name:"机械正面照",typeName:"devicePhoto2",fileLists:[]},{name:"机械背面照",typeName:"devicePhoto3",fileLists:[]},{name:"机械侧面照",typeName:"devicePhoto4",fileLists:[]}],imageInfo:{devicePhoto1:[],devicePhoto2:[],devicePhoto3:[],devicePhoto4:[],nameplate:[],certificate:[]},queryParam:{},columns:[{title:"设备类型",dataIndex:"deviceType",key:"type",align:"center",ellipsis:!0},{title:"设备型号",dataIndex:"model",key:"model",align:"center",ellipsis:!0},{title:"设备主姓名",dataIndex:"deviceOwner",key:"deviceOwner",align:"center",ellipsis:!0},{title:"项目名称",dataIndex:"projectName",key:"projectName",align:"center",ellipsis:!0},{title:"设备日单价",dataIndex:"rent",key:"rent",align:"center",ellipsis:!0},{title:"结算方式",dataIndex:"payType",key:"payType",align:"center",ellipsis:!0},{title:"周期",dataIndex:"totalDuration",key:"totalDuration",align:"center",ellipsis:!0,scopedSlots:{customRender:"totalDuration"}},{title:"出租状态",dataIndex:"statusName",key:"statusName",align:"center",ellipsis:!0},{title:"创建时间",dataIndex:"createTime",key:"createTime",align:"center",ellipsis:!0},{title:"操作",scopedSlots:{customRender:"operation"},key:"operation",align:"center",width:"20%"}],loadData:function(t){return Object.assign(t,e.queryParam),g(t).then((function(e){return e.result}))},chioseContractPagination:{showTotal:function(e,t){return"第".concat(t[0],"-").concat(t[1],"条")+" "+"共 ".concat(e," 条记录")}},chioseContractColumns:[{title:"合同编号",dataIndex:"contractCode",key:"contractCode",align:"center"},{title:"租赁公司名称",dataIndex:"serviceEnterpriseName",key:"serviceEnterpriseName",align:"center"},{title:"企业名称",dataIndex:"enterpriseName",key:"enterpriseName",align:"center"},{title:"操作",scopedSlots:{customRender:"operation"},key:"operation",align:"center"}],chioseContractData:function(t){return Object.assign(t,e.queryParam),Object(I["a"])(t).then((function(e){return e.result}))},recordColumns:[{title:"记录时间",dataIndex:"recordDate",key:"recordDate"},{title:"定位",dataIndex:"recordLocate",key:"recordLocate"},{title:"机械照片1",dataIndex:"photo1",key:"photo1",scopedSlots:{customRender:"photo1"}},{title:"机械照片2",dataIndex:"photo2",key:"photo2",scopedSlots:{customRender:"photo2"}},{title:"工地照片1",dataIndex:"photo3",key:"photo3",scopedSlots:{customRender:"photo3"}},{title:"工地照片2",dataIndex:"photo4",key:"photo4",scopedSlots:{customRender:"photo4"}}],recordData:[],recordDeviceInfo:{},startTime:"",endTime:""}},created:function(){var e=this,t=this.$route.path.split("/").pop(),a=this.roles.permissions.filter((function(e){return e.permissionId===t}));a=a[0].actionList,a.forEach((function(t){"add"===t?e.actionList.add=1:"get"===t?e.actionList.get=1:"update"===t?e.actionList.update=1:"delete"===t&&(e.actionList.delete=1)}))},computed:Object(s["a"])({},Object(x["mapState"])({roles:function(e){return e.user.roles}}),{baseURL:function(){return Object(C["a"])()}}),watch:{},methods:{handlePlatformApproved:function(e){var t=this;this.$confirm({title:"确定通过平台审核",onOk:function(){v({id:e}).then((function(e){1===e.code?(t.$refs.table.refresh(!0),t.$message.success("平台审核成功")):t.$message.error(e.message)}))}})},handlePlatformUnApproved:function(e){var t=this;this.$confirm({title:"平台确定驳回",onOk:function(){f({id:e}).then((function(e){1===e.code?(t.$refs.table.refresh(!0),t.$message.success("驳回成功")):t.$message.error(e.message)}))}})},downloadFilesCustomRequest:function(e){var t=new FormData;t.append("file",e.file),this.form.validateFields((function(e,a){e||(alert(a.contract),t.append("id",a.contract),Object(I["d"])(t).then((function(e){alert(e.message)})))}))},handleChange:function(e){this.fileList=e.fileList,e.file.status,"done"===e.file.status?this.$message.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&this.$message.error("".concat(e.file.name," file upload failed."))},beforeUpload:function(e){var t=this;return new Promise((function(a,r){var i="application/pdf"===e.type;return i?a(!0):(t.$message.error("您只能上传PDF文件!"),r(new Error("您只能上传PDF文件")))}))},handleEnterpriseApproved:function(e){var t=this;this.$confirm({title:"确定通过企业审核",onOk:function(){h({id:e}).then((function(e){1===e.code?(t.$refs.table.refresh(!0),t.$message.success("企业审核成功")):t.$message.error(e.message)}))}})},handleEnterpriseUnApproved:function(e){var t=this;this.$confirm({title:"企业确定驳回",onOk:function(){b({id:e}).then((function(e){1===e.code?(t.$refs.table.refresh(!0),t.$message.success("驳回成功")):t.$message.error(e.message)}))}})},moment:l.a,getImageList:function(e){var t=this,a={devicePhoto1:this.$refs.devicePhoto1,devicePhoto2:this.$refs.devicePhoto2,devicePhoto3:this.$refs.devicePhoto3,devicePhoto4:this.$refs.devicePhoto4,nameplate:this.$refs.nameplate,certificate:this.$refs.certificate},r={};for(var i in a)r[i]=a[i][0].fileList;for(var s in r)r[s].length>0?r[s].forEach((function(e,a){e.url?t.imageInfo[s][a]=e.url:t.imageInfo[s][a]=e.response.url})):this.imageInfo[s]=[]},selectedBackinfo:function(e){this.bankInfoFrame=e},selectedCarinfo:function(e){this.carInfoFrame=e},startTimeChange:function(e,t){this.startTime=t},endTimeChange:function(e,t){this.endTime=t},handleSearchSubmit:function(e){var t=this;e.preventDefault(),this.searchForm.validateFields((function(e,a){if(!e){var r={entity:{deviceOwner:a.searchDeviceOwner,status:a.rentStatus,deviceType:a.deviceType,startTime:t.startTime,endTime:t.endTime}};Object.assign(t.queryParam,r),t.$refs.table.refresh(!0)}}))},handleSearchReset:function(){this.searchForm.resetFields(),this.startTime="",this.endTime=""},handleAdd:function(){this.addDrawerTitle="添加设备需求",this.addDrawerVisible=!0},handleImport:function(){this.importDrawerVisible=!0},handleEdit:function(e){var t=this;w({id:e.id}).then((function(e){if(1===e.code){t.addDrawerVisible=!0,t.addDrawerTitle="修改设备需求";var a=e.result,r=a.account,i=a.deviceInfo,s=a.requirement;t.$nextTick((function(){t.form.setFieldsValue({totalDuration:[l()(s.startDate,"YYYY-MM"),l()(s.endDate,"YYYY-MM")]}),s.isLongTerm=0===s.isLongTerm,t.form.setFieldsValue(o()(s,"id","projectName","contract","deviceOwner","location","phone","rent","totalDuration","payType","isLongTerm","unit"))})),r&&(t.bankInfoFrame=!0,t.$nextTick((function(){t.bankInfo.setFieldsValue(o()(r,"id","account","accountHolder","bank","city","province","requirementId","type","createTime","status"))}))),i&&(t.carInfoFrame=!0,t.$nextTick((function(){var e,a,r,s,n,c;t.carInfo.setFieldsValue(o()(i,"Id","id","brand","createTime","deviceOwner","deviceType","locate","mechanical","model","productionDate","requirementId","status","instruction")),i.devicePhoto1?(t.imageInfo.devicePhoto1=[i.devicePhoto1],e=[{uid:"-1",name:"image.png",status:"done",url:i.devicePhoto1}]):e=[],i.devicePhoto2?(t.imageInfo.devicePhoto2=[i.devicePhoto2],a=[{uid:"-1",name:"image.png",status:"done",url:i.devicePhoto2}]):a=[],i.devicePhoto3?(t.imageInfo.devicePhoto3=[i.devicePhoto3],r=[{uid:"-1",name:"image.png",status:"done",url:i.devicePhoto3}]):r=[],i.devicePhoto4?(t.imageInfo.devicePhoto4=[i.devicePhoto4],s=[{uid:"-1",name:"image.png",status:"done",url:i.devicePhoto4}]):s=[],i.nameplate?(t.imageInfo.nameplate=[i.nameplate],n=[{uid:"-1",name:"image.png",status:"done",url:i.nameplate}]):n=[],i.certificate?(t.imageInfo.certificate=[i.certificate],c=[{uid:"-1",name:"image.png",status:"done",url:i.certificate}]):s=[],t.picList=[{name:"机械整机照片",typeName:"devicePhoto1",fileLists:e},{name:"机械产品铭牌",typeName:"nameplate",fileLists:n},{name:"机械合格证照片",typeName:"certificate",fileLists:c},{name:"机械正面照",typeName:"devicePhoto2",fileLists:a},{name:"机械背面照",typeName:"devicePhoto3",fileLists:r},{name:"机械侧面照",typeName:"devicePhoto4",fileLists:s}]})))}else t.$message.error(e.result)}))},handleSaveSubmit2:function(){var e=new FormData;this.form.validateFields((function(t,a){t||(e.append("file",data.file),alert(data.file.contract),Object(I["d"])(e,a).then((function(e){alert(e.message)})))}))},handleSaveSubmit:function(){var e=this;this.saveDisabled=!0,this.form.validateFields((function(t,a){if(t)e.saveDisabled=!1;else{if(a.phone&&!/^1[3456789]\d{9}$/.test(a.phone))return e.$message.error("联系电话有误，请重填"),void(e.saveDisabled=!1);var r=!0,i={};if(i.requirement=Object(s["a"])({},a),i.requirement.startDate=Object(C["b"])(i.requirement.totalDuration[0]),i.requirement.endDate=Object(C["b"])(i.requirement.totalDuration[1]),i.requirement.isLongTerm=i.requirement.isLongTerm?0:1,delete i.requirement.totalDuration,i.requirement.id||delete i.requirement.id,e.bankInfoFrame&&e.bankInfo.validateFields((function(e,t){e?r=!1:(i.requirementAccount=Object(s["a"])({},t),i.requirementAccount.status=1,i.requirementAccount.id||delete i.requirementAccount.id)})),e.carInfoFrame&&e.carInfo.validateFields((function(t,a){if(t)r=!1;else{var n=e.imageInfo,o=n.devicePhoto1,c=n.devicePhoto2,l=n.devicePhoto3,d=n.devicePhoto4,u=n.nameplate,m=n.certificate;i.deviceInfo=Object(s["a"])({},a),i.deviceInfo.devicePhoto1=o[0]||"",i.deviceInfo.devicePhoto2=c[0]||"",i.deviceInfo.devicePhoto3=l[0]||"",i.deviceInfo.devicePhoto4=d[0]||"",i.deviceInfo.nameplate=u[0]||"",i.deviceInfo.certificate=m[0]||"",i.deviceInfo.status=1,i.deviceInfo.id||delete i.deviceInfo.id}})),!r)return void(e.saveDisabled=!1);D(i).then((function(t){1===t.code?(e.$message.success("保存成功"),e.$refs.table.refresh(!0),e.imageInfo={devicePhoto1:[],devicePhoto2:[],devicePhoto3:[],devicePhoto4:[],deviceOwner:[],certificate:[]},e.onClose()):e.$message.error(t.message),e.saveDisabled=!1}))}}))},handleRecord:function(e){var t=this;y({id:e.id}).then((function(e){1===e.code&&e.result.deviceInfo?(t.recordDrawerVisible=!0,t.recordDeviceInfo=e.result.deviceInfo,t.recordData=e.result.records):t.$message.info("未获取到该设备需求信息")}))},handleRead:function(e){var t=this;w({id:e.id}).then((function(e){1===e.code?t.readListData=JSON.parse(JSON.stringify(e.result)):t.$message.error(e.result)})),this.readDrawerVisible=!0},handleDelete:function(e){var t=this;_({id:e.id}).then((function(e){1===e.code?(t.$message.success("删除成功"),t.$refs.table.refresh(!0)):t.$message.error(e.result)}))},handleCancelDeletion:function(){this.$message.info("已取消删除")},onClose2:function(){this.importDrawerVisible=!1},onClose:function(){this.picList=[{name:"机械整机照片",typeName:"devicePhoto1",fileLists:[]},{name:"机械产品铭牌",typeName:"nameplate",fileLists:[]},{name:"机械合格证照片",typeName:"certificate",fileLists:[]},{name:"机械正面照",typeName:"devicePhoto2",fileLists:[]},{name:"机械背面照",typeName:"devicePhoto3",fileLists:[]},{name:"机械侧面照",typeName:"devicePhoto4",fileLists:[]}],this.addDrawerVisible=!1,this.form.resetFields(),this.bankInfo.resetFields(),this.carInfo.resetFields(),this.bankInfoFrame=!1,this.carInfoFrame=!1,this.predictRent="100"},onReadDrawerClose:function(){this.readDrawerVisible=!1,this.form.resetFields()},onRecordDrawerClose:function(){this.recordDrawerVisible=!1,this.form.resetFields()},handleChioseContract:function(){this.chioseContractVisible=!0},handleChiose:function(e){var t=e.contractCode;this.form.setFieldsValue({contract:t}),this.chioseContractVisible=!1},closeChioseContractModal:function(){this.chioseContractVisible=!1},copyId:function(e){var t=this;this.$copyText(e).then((function(e){t.$message.success("复制成功")})).catch((function(e){t.$message.error("复制失败，请手动复制")}))}}},q=L,P=(a("563c"),a("2877")),k=Object(P["a"])(q,r,i,!1,null,"2398ee6b",null);t["default"]=k.exports},"563c":function(e,t,a){"use strict";var r=a("d2e3"),i=a.n(r);i.a},"6e0f":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c}));var r=a("b775"),i={findBizContractPage:"/biz/bizContract/findBizContractPage",getBizContract:"/biz/bizContract/get",saveBizContract:"/biz/bizContract/save",getContractById:"/biz/bizContract/getContract",saveContractAttachment:"/biz/bizContract/saveContractAttachment",uploadDeviceOrderExcel:"/upload/uploadDeviceOrderExcel"};function s(e){return Object(r["b"])({url:i.findBizContractPage,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function n(e){return Object(r["b"])({url:i.saveBizContract,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(r["b"])({url:i.uploadDeviceOrderExcel,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(r["b"])({url:i.saveContractAttachment,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"88bc":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,i="[object Arguments]",s="[object Function]",n="[object GeneratorFunction]",o="[object Symbol]",c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")();function u(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function m(e,t){var a=-1,r=e?e.length:0,i=Array(r);while(++a<r)i[a]=t(e[a],a,e);return i}function p(e,t){var a=-1,r=t.length,i=e.length;while(++a<r)e[i+a]=t[a];return e}var v=Object.prototype,f=v.hasOwnProperty,h=v.toString,b=d.Symbol,g=v.propertyIsEnumerable,w=b?b.isConcatSpreadable:void 0,y=Math.max;function _(e,t,a,r,i){var s=-1,n=e.length;a||(a=x),i||(i=[]);while(++s<n){var o=e[s];t>0&&a(o)?t>1?_(o,t-1,a,r,i):p(i,o):r||(i[i.length]=o)}return i}function D(e,t){return e=Object(e),I(e,t,(function(t,a){return a in e}))}function I(e,t,a){var r=-1,i=t.length,s={};while(++r<i){var n=t[r],o=e[n];a(o,n)&&(s[n]=o)}return s}function C(e,t){return t=y(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,i=y(a.length-t,0),s=Array(i);while(++r<i)s[r]=a[t+r];r=-1;var n=Array(t+1);while(++r<t)n[r]=a[r];return n[t]=s,u(e,this,n)}}function x(e){return P(e)||q(e)||!!(w&&e&&e[w])}function L(e){if("string"==typeof e||R(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function q(e){return T(e)&&f.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==i)}var P=Array.isArray;function k(e){return null!=e&&F(e.length)&&!N(e)}function T(e){return O(e)&&k(e)}function N(e){var t=j(e)?h.call(e):"";return t==s||t==n}function F(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function O(e){return!!e&&"object"==typeof e}function R(e){return"symbol"==typeof e||O(e)&&h.call(e)==o}var S=C((function(e,t){return null==e?{}:D(e,m(_(t,1),L))}));e.exports=S}).call(this,a("c8ba"))},a13e:function(e,t,a){},b51b:function(e,t,a){"use strict";var r=a("a13e"),i=a.n(r);i.a},d2e3:function(e,t,a){}}]);